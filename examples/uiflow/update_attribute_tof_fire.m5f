{"components": [{"id": "____screen", "createTime": 1697194708989, "name": "screen", "x": 0, "y": 0, "width": 320, "height": 240, "backgroundColor": "#222222", "backgroundImage": "", "size": 0, "screenType": "default", "type": "screen"}, {"id": "____buttonA", "createTime": 1697194708989, "name": "ButtonA", "buttonIndex": 0, "x": 44, "y": 274, "width": 64, "height": 24, "text": "ButtonA", "visibility": false, "type": "button"}, {"id": "____buttonB", "createTime": 1697194708989, "name": "ButtonB", "buttonIndex": 1, "x": 158, "y": 274, "width": 64, "height": 24, "text": "ButtonB", "visibility": false, "type": "button"}, {"id": "____buttonC", "createTime": 1697194708989, "name": "ButtonC", "buttonIndex": 2, "x": 273, "y": 274, "width": 64, "height": 24, "text": "ButtonC", "visibility": false, "type": "button"}, {"id": "YlaF+M$cD19+Wz7h", "createTime": 1697195080473, "isCoreInk": false, "isPaper": false, "name": "title", "x": 0, "y": 0, "width": 320, "height": 20, "color": "#000000", "backgroundColor": "#606060", "text": "/update_attribute", "textOffset": 3, "font": "lcd.FONT_Default", "screenType": "default", "type": "title", "layer": 4}, {"id": "tplrBkcNxhAn=_52", "createTime": 1697195285912, "isCoreTwo": false, "isPaper": false, "name": "state", "x": 0, "y": 30, "color": "#FFFFFF", "text": "state: init", "font": "lcd.FONT_DejaVu18", "rotation": 0, "screenType": "default", "type": "label", "layer": 10}, {"id": "ra!YU%=Sicn=cM+y", "createTime": 1697195907309, "isCoreTwo": false, "isPaper": false, "name": "url", "x": 0, "y": 60, "color": "#FFFFFF", "text": "URL", "font": "lcd.FONT_Default", "rotation": 0, "screenType": "default", "type": "label", "layer": 16}, {"id": "O=xB#8^KAHU8wBW5", "createTime": 1697334982763, "isCoreTwo": false, "isPaper": false, "name": "result", "x": 0, "y": 140, "color": "#FFFFFF", "text": "result", "font": "lcd.FONT_Default", "rotation": 0, "screenType": "default", "type": "label", "layer": 10}], "type": "fire", "versions": "Beta", "units": [{"id": "NjnJU!zdG=0^U!7l", "createTime": 1697345623757, "stickNone": "stick", "type": "tof", "name": "tof_0", "port": "A", "default": ["A", "E", "PAHUB", "Custom"], "pb_port": [0, 1, 2, 3, 4, 5], "new_pb_port": "0", "user_port": ["21", "22"], "icon": "tof.png", "url": "https://docs.m5stack.com/en/unit/tof"}], "hats": [], "stamps": [], "blockly": "<variables><variable id=\"WBGYAPV?4?b$49HOu(wl\">attribute_name</variable><variable id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</variable><variable id=\"@AZST,z`EUu^)DL-[Lzt\">current_state</variable></variables><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"10\" y=\"10\"><comment pinned=\"false\" h=\"80\" w=\"160\">This section will be executed only once</comment><next><block type=\"wifi_doConnect\" id=\"vbJ]ko0i82ifr8MDLFg$\"><comment pinned=\"false\" h=\"80\" w=\"160\">Replace SSID and PASS with yours</comment><value name=\"apiKey\"><shadow type=\"text\" id=\"r`5@|gB+(FPvTMh!JN;7\"><field name=\"TEXT\">WIFI_SSID</field></shadow></value><value name=\"Msg\"><shadow type=\"text_password\" id=\"iPoq?A%GFxTQz29V#HD~\"><field name=\"TEXT\">WIFI_PASSWORD</field></shadow></value><next><block type=\"controls_if\" id=\"[{v{[1}@D6trYx|bL7wG\"><value name=\"IF0\"><block type=\"wifi_isconnect\" id=\"|d~v`}%Nh:tCf/t18i31\" /></value><statement name=\"DO0\"><block type=\"title_set_bgcolor_input\" id=\"=cE,Zl~$Sh1U~FO[[12o\"><field name=\"COMPONENT\">title</field><value name=\"COLOR\"><block type=\"color_rgb_palette\" id=\"qV4lJ$Gfp?qZqj8=Dd#B\"><mutation mode=\"palette\" /><field name=\"MODE\">palette</field><field name=\"COLOR\">#33ff33</field></block></value></block></statement><next><block type=\"variables_set\" id=\"n*^,Dc;|$a[cao.b?Dmx\"><field name=\"VAR\" id=\"WBGYAPV?4?b$49HOu(wl\">attribute_name</field><value name=\"VALUE\"><block type=\"text\" id=\"0lQHHwrI7cM~(GP?dtYj\"><field name=\"TEXT\">distance</field><comment pinned=\"false\" h=\"80\" w=\"160\">Replace 'state' with your real attribute name</comment></block></value><next><block type=\"variables_set\" id=\"impOedI^|zzb97P4+Uyj\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field><value name=\"VALUE\"><block type=\"text\" id=\"EFPhRfsGbX)a2zO`F|EE\"><field name=\"TEXT\">BASE_URL</field><comment pinned=\"false\" h=\"80\" w=\"160\">Replace BASE_URL with your Base URL</comment></block></value><next><block type=\"variables_set\" id=\"IGCCMOl{D_7pzNHbl*9L\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field><value name=\"VALUE\"><block type=\"text_add\" id=\"Fu8jZb#`K]h5}RcD)M-_\"><value name=\"arg0\"><shadow type=\"text\"><field name=\"TEXT\" /></shadow><block type=\"variables_get\" id=\",u3L$$+YIYp=}[EeetSd\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field></block></value><value name=\"arg1\"><block type=\"text\" id=\"~saIcWX=:]f)w!J5.wYW\"><field name=\"TEXT\">/update_attribute</field></block></value></block></value><next><block type=\"variables_set\" id=\"L6|:IY?7`d2@26sL./tV\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field><value name=\"VALUE\"><block type=\"text_add\" id=\"j3xW#rl:Qc{H}5Bf0Lsc\"><value name=\"arg0\"><shadow type=\"text\" id=\"$#BiKwW7Xn1]Go^yy$)^\"><field name=\"TEXT\" /></shadow><block type=\"variables_get\" id=\"|,Yy3(Dku:*[50,3oP#p\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field></block></value><value name=\"arg1\"><block type=\"text_add\" id=\"Ew=]]SCl03K=6m4h1-85\"><value name=\"arg0\"><shadow type=\"text\" id=\".XpkeswNqso.R~-l(~sd\"><field name=\"TEXT\">?api_key=</field></shadow></value><value name=\"arg1\"><block type=\"text\" id=\"ve*e(,{*0lu);LJw330W\"><field name=\"TEXT\">API_KEY</field><comment pinned=\"false\" h=\"80\" w=\"160\">Replace API_KEY with your API key</comment></block></value></block></value></block></value><next><block type=\"variables_set\" id=\"lk,tBt7b9n{m!~SWnTmb\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field><value name=\"VALUE\"><block type=\"text_add\" id=\"g%bc9#:@sn1b*HSg{H98\"><value name=\"arg0\"><shadow type=\"text\"><field name=\"TEXT\" /></shadow><block type=\"variables_get\" id=\"]v(LWkRU#qOhx*7bxL,-\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field></block></value><value name=\"arg1\"><block type=\"text_add\" id=\"f3k%hCjLD*%$z@U;5bmh\"><value name=\"arg0\"><shadow type=\"text\" id=\"FD*3d|%(#p(.!u-1Vbiv\"><field name=\"TEXT\">&amp;item_id=</field></shadow></value><value name=\"arg1\"><block type=\"text\" id=\"671osAf~|RLB~=Sq^!dm\"><field name=\"TEXT\">ITEM_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">Replace ITEM_ID with your item's ID</comment></block></value></block></value></block></value><next><block type=\"variables_set\" id=\";$T%f58p^s]i-/T%9:t.\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field><value name=\"VALUE\"><block type=\"text_add\" id=\"6m7M(,y0|x5S:2;G-am;\"><value name=\"arg0\"><shadow type=\"text\"><field name=\"TEXT\" /></shadow><block type=\"variables_get\" id=\"HY}^Q+y.He}TMO=Ry22z\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field></block></value><value name=\"arg1\"><block type=\"text_add\" id=\"3rI:ksyP+lDDSb:A$HIj\"><value name=\"arg0\"><shadow type=\"text\" id=\"XRSx:_NFaqNak0DTJF2j\"><field name=\"TEXT\">&amp;attribute=</field></shadow></value><value name=\"arg1\"><block type=\"text_add\" id=\"W,(NP10+]u`TSfF#^Bi%\"><value name=\"arg0\"><shadow type=\"text\" id=\"mVm!2E(fpi[qX{o}TMJb\"><field name=\"TEXT\">state</field></shadow><block type=\"variables_get\" id=\"_uXJ0NXg+_DhAoB}%U4w\"><field name=\"VAR\" id=\"WBGYAPV?4?b$49HOu(wl\">attribute_name</field></block></value><value name=\"arg1\"><block type=\"text\" id=\"Q$$V(C,wY5uElsoEzXna\"><field name=\"TEXT\">%3D</field><comment pinned=\"false\" h=\"80\" w=\"160\">%3D means '=' in URL encoding.</comment></block></value></block></value></block></value></block></value><next><block type=\"label_set_text\" id=\"UUD%?b31[7WvE4xtjxn:\"><field name=\"COMPONENT\">url</field><value name=\"TEXT\"><shadow type=\"text\" id=\"l%5P83D(r%ERuC1%@aiu\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"variables_get\" id=\")k}4HvOMcH1#ES[^:?lI\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field></block></value><next><block type=\"basic_on_loop\" id=\"B}L]K6fCrsPL#f$y~Z+_\"><comment pinned=\"false\" h=\"80\" w=\"160\">This section will be executed repeatedly</comment><statement name=\"LOOP\"><block type=\"title_set_bgcolor_input\" id=\"$BhO8yc}2jon1)j#4,7.\"><field name=\"COMPONENT\">title</field><value name=\"COLOR\"><block type=\"color_rgb_palette\" id=\"NBn~KrpAg)uu6ii[s[MH\"><mutation mode=\"palette\" /><field name=\"MODE\">palette</field><field name=\"COLOR\">#ffff00</field></block></value><next><block type=\"http_request\" id=\"q.!lsW!+dTs{8ZZGppD;\"><field name=\"method\">GET</field><value name=\"url\"><shadow type=\"text\" id=\"7r+BRNk|cOo-Dw=+%$Zp\"><field name=\"TEXT\" /></shadow><block type=\"text_add\" id=\"/bkG^T%2adnp^upoy*5X\"><value name=\"arg0\"><shadow type=\"text\" id=\"@7GG_@LvQ$;n37p(_/qB\" disabled=\"true\"><field name=\"TEXT\" /></shadow><block type=\"variables_get\" id=\"I=j.TW:k*rkq_zE}t;+D\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field></block></value><value name=\"arg1\"><block type=\"unit_tof_state\" id=\"~?E9N$WZ=XAeN$TQ,_+-\"><field name=\"TOF\">tof_0</field></block></value></block></value><statement name=\"success\"><block type=\"label_set_text\" id=\"HmyGjtR5k~u@UIi6gO6B\"><field name=\"COMPONENT\">result</field><comment pinned=\"false\" h=\"80\" w=\"160\">Show the status code and data. If the status code is not 200, read the data carefully to fix the issue.</comment><value name=\"TEXT\"><shadow type=\"text\" id=\"bQs5c5Mx*O7JR3iFT},7\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text_add\" id=\"XTNN6$#%0gvtKK-49i.!\"><value name=\"arg0\"><shadow type=\"text\" id=\"^.:yJ@d.2_.h?]FH`-g+\"><field name=\"TEXT\" /></shadow><block type=\"get_status_code\" id=\"2BxYL;nfZ;Il=;%q#ie{\" /></value><value name=\"arg1\"><block type=\"text_add\" id=\"JD}B}Ys7e)_h/!y!]Maa\"><value name=\"arg0\"><shadow type=\"text\" id=\"(vyx1pD0jCNZiWgiHv6Z\"><field name=\"TEXT\">, </field></shadow></value><value name=\"arg1\"><block type=\"get_data\" id=\"DF)m$KAij;YZo!VJQzCN\" /></value></block></value></block></value><next><block type=\"controls_if\" id=\"_p-J_y5[~ULduWCKYhd$\"><comment pinned=\"false\" h=\"80\" w=\"160\">If successfully updated, update the current state.</comment><value name=\"IF0\"><block type=\"logic_compare\" id=\"R#a/d904*rDK)93A1Ly;\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"get_status_code\" id=\"qfHMS7vJw2{^b:Tj*A0B\" /></value><value name=\"B\"><block type=\"math_number\" id=\"#qBNQo{n30YU.^0HkoyH\"><field name=\"NUM\">200</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"{b6K88NI*a5HS*)PUgNU\"><field name=\"VAR\" id=\"@AZST,z`EUu^)DL-[Lzt\">current_state</field><value name=\"VALUE\"><block type=\"get_data\" id=\"BOa2bzJA!u-d[#~LS1@u\" /></value><next><block type=\"label_set_text\" id=\"#G3c7KuN,[%%$:xp8d$3\"><field name=\"COMPONENT\">state</field><value name=\"TEXT\"><shadow type=\"text\" id=\"FO|:qh(1FRITG=n4i*s|\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text_add\" id=\"#P7qC+HAIP`?n4+/Hc|Z\"><value name=\"arg0\"><shadow type=\"text\" id=\"LzIEH??;dju4xV.XSA|@\" disabled=\"true\"><field name=\"TEXT\">State: </field></shadow><block type=\"text_add\" id=\"W31d@%f[}vue%v9Xfl7]\"><value name=\"arg0\"><shadow type=\"text\" id=\"yhu21W`rt/P.jhr/@4wm\" disabled=\"true\"><field name=\"TEXT\">State: </field></shadow><block type=\"variables_get\" id=\"%fe5b@(E8t8H$(8-!NVo\"><field name=\"VAR\" id=\"WBGYAPV?4?b$49HOu(wl\">attribute_name</field></block></value><value name=\"arg1\"><block type=\"text\" id=\"PU,H|)Sv6}-v?wAE31}]\"><field name=\"TEXT\">=</field></block></value></block></value><value name=\"arg1\"><block type=\"variables_get\" id=\"P/t{Y_h//]r]9Q|CZn#m\"><field name=\"VAR\" id=\"@AZST,z`EUu^)DL-[Lzt\">current_state</field></block></value></block></value></block></next></block></statement><next><block type=\"title_set_bgcolor_input\" id=\"|tG2NHNHj%M]L(*CeD]r\"><field name=\"COMPONENT\">title</field><value name=\"COLOR\"><block type=\"color_rgb_palette\" id=\"^Yk~yi=iJl1gPf8Y}{eC\"><mutation mode=\"palette\" /><field name=\"MODE\">palette</field><field name=\"COLOR\">#33ff33</field></block></value></block></next></block></next></block></statement><statement name=\"fail\"><block type=\"label_set_text\" id=\"RhE$lU]wYKniwnQ4SjMD\"><field name=\"COMPONENT\">state</field><value name=\"TEXT\"><shadow type=\"text\" id=\"Vh7vPb[suY-~07vg7?a2\"><field name=\"TEXT\">HTTP request failed</field></shadow></value><next><block type=\"title_set_bgcolor_input\" id=\"w)-VF%mVtcH6q-qvu%%x\"><field name=\"COMPONENT\">title</field><value name=\"COLOR\"><block type=\"color_rgb_palette\" id=\"XnuY,6T_4#L7(HJ`V~T%\"><mutation mode=\"palette\" /><field name=\"MODE\">palette</field><field name=\"COLOR\">#ff0000</field></block></value></block></next></block></statement><next><block type=\"timer_delay\" id=\"hPZ9OWax(/I7/?n@^oWG\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"-)_:|=-In`SS17;ihn@O\"><field name=\"NUM\">0.1</field></shadow></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block>", "Blockly.Remotes": [], "Blockly.RemotePlus": [{"id": "__title", "blockId": "", "createTime": 1697345623757, "name": "M5RemoteTitle", "dragAndDrop": false, "resizable": false, "options": {"minWidth": 1, "minHeight": 1, "maxWidth": 6, "maxHeight": 10, "defaultWidth": 2, "defaultHeight": 1}, "w": 2, "h": 1, "bgColor": "#0080FF", "color": "#fff", "fontsize": "M", "label": "M5Remote", "interval": 3000, "code": "", "event": "", "dataSource": "none", "ezdataToken": "SIDJQXV2VZtGhGzNH17UVnHK7SYHFmwY", "topic": "", "needShadow": false, "type": "title", "x": 0, "y": 0}], "modules": ["rgb", "machine"], "cbIdList_": [], "eventCBIdList_": [], "apikey": "", "uuid": ""}
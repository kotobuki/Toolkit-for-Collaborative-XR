{"components": [], "type": "atom", "versions": "Beta", "units": [], "hats": [], "stamps": [], "blockly": "<variables><variable id=\"WBGYAPV?4?b$49HOu(wl\">attribute_name</variable><variable id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</variable><variable id=\"@AZST,z`EUu^)DL-[Lzt\">current_state</variable></variables><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"10\" y=\"10\"><comment pinned=\"false\" h=\"80\" w=\"160\">This section will be executed only once</comment><next><block type=\"wifi_doConnect\" id=\"vbJ]ko0i82ifr8MDLFg$\"><comment pinned=\"false\" h=\"80\" w=\"160\">Replace SSID and PASS with yours</comment><value name=\"apiKey\"><shadow type=\"text\" id=\"r`5@|gB+(FPvTMh!JN;7\"><field name=\"TEXT\">WIFI_SSID</field></shadow></value><value name=\"Msg\"><shadow type=\"text_password\" id=\"iPoq?A%GFxTQz29V#HD~\"><field name=\"TEXT\">WIFI_PASSWORD</field></shadow></value><next><block type=\"controls_if\" id=\"[{v{[1}@D6trYx|bL7wG\"><value name=\"IF0\"><block type=\"wifi_isconnect\" id=\"|d~v`}%Nh:tCf/t18i31\" /></value><statement name=\"DO0\"><block type=\"rgb_set_all_input\" id=\"eS~*PbBXz%w*Oa|1}DcO\"><value name=\"COLOR\"><block type=\"color_rgb_palette\" id=\").;?Q]rhQm#B7eb.Ip}q\"><mutation mode=\"palette\" /><field name=\"MODE\">palette</field><field name=\"COLOR\">#33ff33</field></block></value></block></statement><next><block type=\"variables_set\" id=\"n*^,Dc;|$a[cao.b?Dmx\"><field name=\"VAR\" id=\"WBGYAPV?4?b$49HOu(wl\">attribute_name</field><value name=\"VALUE\"><block type=\"text\" id=\"0lQHHwrI7cM~(GP?dtYj\"><field name=\"TEXT\">state</field><comment pinned=\"false\" h=\"80\" w=\"160\">Replace 'state' with your real attribute name</comment></block></value><next><block type=\"variables_set\" id=\"impOedI^|zzb97P4+Uyj\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field><value name=\"VALUE\"><block type=\"text\" id=\"EFPhRfsGbX)a2zO`F|EE\"><field name=\"TEXT\">BASE_URL</field><comment pinned=\"false\" h=\"80\" w=\"160\">Replace BASE_URL with your Base URL</comment></block></value><next><block type=\"variables_set\" id=\"IGCCMOl{D_7pzNHbl*9L\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field><value name=\"VALUE\"><block type=\"text_add\" id=\"Fu8jZb#`K]h5}RcD)M-_\"><value name=\"arg0\"><shadow type=\"text\"><field name=\"TEXT\" /></shadow><block type=\"variables_get\" id=\",u3L$$+YIYp=}[EeetSd\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field></block></value><value name=\"arg1\"><block type=\"text\" id=\"~saIcWX=:]f)w!J5.wYW\"><field name=\"TEXT\">/get_attribute</field></block></value></block></value><next><block type=\"variables_set\" id=\"L6|:IY?7`d2@26sL./tV\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field><value name=\"VALUE\"><block type=\"text_add\" id=\"j3xW#rl:Qc{H}5Bf0Lsc\"><value name=\"arg0\"><shadow type=\"text\" id=\"$#BiKwW7Xn1]Go^yy$)^\"><field name=\"TEXT\" /></shadow><block type=\"variables_get\" id=\"|,Yy3(Dku:*[50,3oP#p\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field></block></value><value name=\"arg1\"><block type=\"text_add\" id=\"Ew=]]SCl03K=6m4h1-85\"><value name=\"arg0\"><shadow type=\"text\" id=\".XpkeswNqso.R~-l(~sd\"><field name=\"TEXT\">?api_key=</field></shadow></value><value name=\"arg1\"><block type=\"text\" id=\"ve*e(,{*0lu);LJw330W\"><field name=\"TEXT\">API_KEY</field><comment pinned=\"false\" h=\"80\" w=\"160\">Replace API_KEY with your API key</comment></block></value></block></value></block></value><next><block type=\"variables_set\" id=\"lk,tBt7b9n{m!~SWnTmb\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field><value name=\"VALUE\"><block type=\"text_add\" id=\"g%bc9#:@sn1b*HSg{H98\"><value name=\"arg0\"><shadow type=\"text\"><field name=\"TEXT\" /></shadow><block type=\"variables_get\" id=\"]v(LWkRU#qOhx*7bxL,-\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field></block></value><value name=\"arg1\"><block type=\"text_add\" id=\"f3k%hCjLD*%$z@U;5bmh\"><value name=\"arg0\"><shadow type=\"text\" id=\"FD*3d|%(#p(.!u-1Vbiv\"><field name=\"TEXT\">&amp;item_id=</field></shadow></value><value name=\"arg1\"><block type=\"text\" id=\"671osAf~|RLB~=Sq^!dm\"><field name=\"TEXT\">ITEM_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">Replace ITEM_ID with your item's ID</comment></block></value></block></value></block></value><next><block type=\"variables_set\" id=\";$T%f58p^s]i-/T%9:t.\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field><value name=\"VALUE\"><block type=\"text_add\" id=\"6m7M(,y0|x5S:2;G-am;\"><value name=\"arg0\"><shadow type=\"text\"><field name=\"TEXT\" /></shadow><block type=\"variables_get\" id=\"HY}^Q+y.He}TMO=Ry22z\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field></block></value><value name=\"arg1\"><block type=\"text_add\" id=\"3rI:ksyP+lDDSb:A$HIj\"><value name=\"arg0\"><shadow type=\"text\" id=\"XRSx:_NFaqNak0DTJF2j\"><field name=\"TEXT\">&amp;attribute=</field></shadow></value><value name=\"arg1\"><block type=\"variables_get\" id=\"_uXJ0NXg+_DhAoB}%U4w\"><field name=\"VAR\" id=\"WBGYAPV?4?b$49HOu(wl\">attribute_name</field></block></value></block></value></block></value><next><block type=\"basic_on_loop\" id=\"B}L]K6fCrsPL#f$y~Z+_\"><comment pinned=\"false\" h=\"80\" w=\"160\">This section will be executed repeatedly</comment><statement name=\"LOOP\"><block type=\"rgb_set_all_input\" id=\"quk4CL6TAVsy@z|!*DAA\"><value name=\"COLOR\"><block type=\"color_rgb_palette\" id=\"olzRC]~v~]FbT8uBAiR.\"><mutation mode=\"palette\" /><field name=\"MODE\">palette</field><field name=\"COLOR\">#ffff00</field></block></value><next><block type=\"http_request\" id=\"q.!lsW!+dTs{8ZZGppD;\"><field name=\"method\">GET</field><value name=\"url\"><shadow type=\"text\" id=\"7r+BRNk|cOo-Dw=+%$Zp\"><field name=\"TEXT\" /></shadow><block type=\"variables_get\" id=\"I=j.TW:k*rkq_zE}t;+D\"><field name=\"VAR\" id=\"*b4/jJ1gqhKdQ9SRMFy+\">URL</field></block></value><statement name=\"success\"><block type=\"controls_if\" id=\"_p-J_y5[~ULduWCKYhd$\"><comment pinned=\"false\" h=\"80\" w=\"160\">If successfully updated, update the current state.</comment><value name=\"IF0\"><block type=\"logic_compare\" id=\"R#a/d904*rDK)93A1Ly;\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"get_status_code\" id=\"qfHMS7vJw2{^b:Tj*A0B\" /></value><value name=\"B\"><block type=\"math_number\" id=\"#qBNQo{n30YU.^0HkoyH\"><field name=\"NUM\">200</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"{b6K88NI*a5HS*)PUgNU\"><field name=\"VAR\" id=\"@AZST,z`EUu^)DL-[Lzt\">current_state</field><value name=\"VALUE\"><block type=\"get_data\" id=\"BOa2bzJA!u-d[#~LS1@u\" /></value><next><block type=\"controls_if\" id=\"[#PQ)+?XUS`2NL5EQpo8\"><mutation elseif=\"1\" /><value name=\"IF0\"><block type=\"logic_compare\" id=\"qmV.bdYe|6nq`qx#HK=0\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"W^_eJf)ympY^lL$LbCdf\"><field name=\"VAR\" id=\"@AZST,z`EUu^)DL-[Lzt\">current_state</field></block></value><value name=\"B\"><block type=\"text\" id=\"0:G#0f,mr*ML{1;@*nN0\"><field name=\"TEXT\">on</field></block></value></block></value><statement name=\"DO0\"><block type=\"rgb_set_all_input\" id=\"nD}R.{CKpDw?L@cpd!up\"><value name=\"COLOR\"><block type=\"color_rgb_palette\" id=\"#T]GTTAgNK5xrwR{#aeo\"><mutation mode=\"palette\" /><field name=\"MODE\">palette</field><field name=\"COLOR\">#ffffff</field></block></value></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"d+U|y=3iy$3Dm3OO0rct\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"w50bMP-_moA)thT$/~?Q\"><field name=\"VAR\" id=\"@AZST,z`EUu^)DL-[Lzt\">current_state</field></block></value><value name=\"B\"><block type=\"text\" id=\"o8w5?vsL5/$)K-1zC.cU\"><field name=\"TEXT\">off</field></block></value></block></value><statement name=\"DO1\"><block type=\"rgb_set_all_input\" id=\"Yhc*B=gFl7W,pA.m(HG0\"><value name=\"COLOR\"><block type=\"color_rgb_palette\" id=\"9v!.{tNH]F0ska_k6gj@\"><mutation mode=\"palette\" /><field name=\"MODE\">palette</field><field name=\"COLOR\">#000000</field></block></value></block></statement></block></next></block></statement></block></statement><statement name=\"fail\"><block type=\"rgb_set_all_input\" id=\"y/V()qYw:RJ~5@7F01*a\"><value name=\"COLOR\"><block type=\"color_rgb_palette\" id=\"/l!=*h^2WEVwja_k`QJE\"><mutation mode=\"palette\" /><field name=\"MODE\">palette</field><field name=\"COLOR\">#ff0000</field></block></value></block></statement><next><block type=\"timer_delay\" id=\"/M9C0!/2)Xx7)Tr6VHug\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"G}=Tk]7M=Af?,7ZUD#@C\"><field name=\"NUM\">1</field></shadow></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block>", "Blockly.Remotes": [], "Blockly.RemotePlus": [{"id": "__title", "blockId": "", "createTime": 1697348036082, "name": "M5RemoteTitle", "dragAndDrop": false, "resizable": false, "options": {"minWidth": 1, "minHeight": 1, "maxWidth": 6, "maxHeight": 10, "defaultWidth": 2, "defaultHeight": 1}, "w": 2, "h": 1, "bgColor": "#0080FF", "color": "#fff", "fontsize": "M", "label": "M5Remote", "interval": 3000, "code": "", "event": "", "dataSource": "none", "ezdataToken": "SIDJQXV2VZtGhGzNH17UVnHK7SYHFmwY", "topic": "", "needShadow": false, "type": "title", "x": 0, "y": 0}], "modules": ["rgb", "machine"], "cbIdList_": [], "eventCBIdList_": [], "apikey": "", "uuid": ""}